"use strict";(self.webpackChunkstarcoin_cookbook=self.webpackChunkstarcoin_cookbook||[]).push([[5566],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return h}});var i=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,i,o=function(e,t){if(null==e)return{};var n,i,o={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var s=i.createContext({}),c=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):a(a({},t),e)),n},m=function(e){var t=c(e.components);return i.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},p=i.forwardRef((function(e,t){var n=e.components,o=e.mdxType,r=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),p=c(n),h=o,d=p["".concat(s,".").concat(h)]||p[h]||u[h]||r;return n?i.createElement(d,a(a({ref:t},m),{},{components:n})):i.createElement(d,a({ref:t},m))}));function h(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var r=n.length,a=new Array(r);a[0]=p;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:o,a[1]=l;for(var c=2;c<r;c++)a[c]=n[c];return i.createElement.apply(null,a)}return i.createElement.apply(null,n)}p.displayName="MDXCreateElement"},5614:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return a},default:function(){return u},frontMatter:function(){return r},metadata:function(){return l},toc:function(){return c}});var i=n(3117),o=(n(7294),n(3905));const r={},a="mining client",l={unversionedId:"getting-started/mining/mining",id:"getting-started/mining/mining",title:"mining client",description:"starcoin miner",source:"@site/docs/02-getting-started/04-mining/01-mining.md",sourceDirName:"02-getting-started/04-mining",slug:"/getting-started/mining/mining",permalink:"/starcoin-cookbook/docs/getting-started/mining/mining",draft:!1,editUrl:"https://github.com/starcoinorg/starcoin-cookbook/edit/main/docs/02-getting-started/04-mining/01-mining.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Mining and understanding the mining protocol",permalink:"/starcoin-cookbook/docs/getting-started/mining/"},next:{title:"mining_protocol",permalink:"/starcoin-cookbook/docs/getting-started/mining/mining_protocol"}},s={},c=[{value:"starcoin miner",id:"starcoin-miner",level:2},{value:"Usage",id:"usage",level:3},{value:"Connect to a node to mine with CPU",id:"connect-to-a-node-to-mine-with-cpu",level:3},{value:"stc-box",id:"stc-box",level:2},{value:"stc-mini",id:"stc-mini",level:2},{value:"Windows environment usage steps",id:"windows-environment-usage-steps",level:3},{value:"Notes",id:"notes",level:3},{value:"Join the mining pool",id:"join-the-mining-pool",level:2},{value:"Self-built mining pool",id:"self-built-mining-pool",level:2}],m={toc:c};function u(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,i.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"mining-client"},"mining client"),(0,o.kt)("h2",{id:"starcoin-miner"},"starcoin miner"),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"starcoin_miner")," is the mining client provided by Starcoin.\nThe ",(0,o.kt)("inlineCode",{parentName:"p"},"starcoin_miner")," command line tool is used to remotely connect to the Starcoin node, and provides the ability to mine with CPU and connect to the stc-mini mining machine."),(0,o.kt)("h3",{id:"usage"},"Usage"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"`starcoin_miner` [OPTIONS]\n\nUSAGE:\n    starcoin_miner [OPTIONS] --user <user>\n\nFLAGS:\n    -h, --help       Prints help information\n    -V, --version    Prints version information\n\nOPTIONS:\n    -p, --plugin-path <plugin-path>\n    -a, --server <server>               [default: 127.0.0.1:9880]\n    -n, --thread-num <thread-num>       [default: 1]\n    -u, --user <user>\n")),(0,o.kt)("h3",{id:"connect-to-a-node-to-mine-with-cpu"},"Connect to a node to mine with CPU"),(0,o.kt)("p",null,"When starting the Starcoin node locally, we can run the following command to specify the mining user alice to start 4 threads to connect to the local node for mining."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"starcoin_miner --user alice -n 4\n")),(0,o.kt)("p",null,"After startup, you can see the following information in the console:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"Miner client Total seals found:  3\nstarcoin-miner-cpu-worker-0 \u2826 [00:00:00] Hash rate:      20 Seals found:  17\nstarcoin-miner-cpu-worker-1 \u2826 [00:00:00] Hash rate:      21 Seals found:  17\nstarcoin-miner-cpu-worker-2 \u2824 [00:00:00] Hash rate:      20 Seals found:  16\nstarcoin-miner-cpu-worker-3 \u2824 [00:00:00] Hash rate:      20 Seals found:  16\n2020-10-28T09:09:53.006852+08:00 INFO - Seal found 16718533681172480617\n")),(0,o.kt)("p",null,"In the log, you can see the total number of seals dug up, the computing power of each thread, and the newly calculated seals and other information."),(0,o.kt)("h2",{id:"stc-box"},"stc-box"),(0,o.kt)("p",null,"stc-box is the current mainstream miner of Starcoin.\nNo need to install additional client or software, it can be set through the miner webpage.\nFor the configuration method, please refer to the ",(0,o.kt)("a",{parentName:"p",href:"https://www.yuque.com/bixinkelekuangchi/stoxms/knlyf3"},"configuration of the mining pool"),"."),(0,o.kt)("h2",{id:"stc-mini"},"stc-mini"),(0,o.kt)("h3",{id:"windows-environment-usage-steps"},"Windows environment usage steps"),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Install driver"),(0,o.kt)("li",{parentName:"ol"},"Install the software: ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/starcoinorg/starcoin_mini_miner/releases/"},"Starcoin mining client")),(0,o.kt)("li",{parentName:"ol"},"Connect the miner to the computer."),(0,o.kt)("li",{parentName:"ol"},"Update firmware: After the software recognizes the miner, click to update the firmware. ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/starcoinorg/starcoin_mini_miner/releases/download/v0.0.2/starcoin_mini_miner_recovery_v0.0.2.bin"},"Download the Starcoin mini miner firmware")," and upload it."),(0,o.kt)("li",{parentName:"ol"},"Set up the mining pool: Open the Starcoin Miner software, click the set up mining pool icon, enter the mining pool name, port number, user name, miner password, and click OK."),(0,o.kt)("li",{parentName:"ol"},"Start mining: Click to start the mining machine, and after a while, you can see that the computing power is generated to prove that the device has started to work."),(0,o.kt)("li",{parentName:"ol"},"Switch mining pool: Select the machine to stop mining, set the mining pool, and start mining.")),(0,o.kt)("h3",{id:"notes"},"Notes"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Before use, please try to avoid placing the miner in an environment with poor air circulation and high temperature, otherwise it may cause abnormal work or even damage to the equipment."),(0,o.kt)("li",{parentName:"ul"},"Please ensure that the network is unobstructed before use, otherwise the rejection rate will increase and affect the computing power of the machine."),(0,o.kt)("li",{parentName:"ul"},"Do not overclock without permission when using it, otherwise the chip will be damaged and the consequences will be at your own risk."),(0,o.kt)("li",{parentName:"ul"},"The client software only supports windows system temporarily, please refer to ",(0,o.kt)("a",{parentName:"li",href:"https://github.com/fikgol/usbsolver"},"starcoin mint usb solver")," for non-windows system users to use this miner.")),(0,o.kt)("h1",{id:"mining-pool-related"},"Mining pool related"),(0,o.kt)("p",null,"For the mining pool protocol of starcoin, please refer to the ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/starcoinorg/starcoin/blob/master/stratum/stratum_mining_protocol.md"},"starcoin stratum protocol"),"."),(0,o.kt)("h2",{id:"join-the-mining-pool"},"Join the mining pool"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Set ",(0,o.kt)("a",{parentName:"li",href:"https://www.yuque.com/docs/share/5c5ae94a-3ed4-4dab-98ca-62baf17891e0"},"Cola Pool (recommended)")),(0,o.kt)("li",{parentName:"ul"},"Connect to ",(0,o.kt)("a",{parentName:"li",href:"https://help.poolin.com/hc/zh-cn/articles/360060982092"},"Poolin Pool (recommended)")),(0,o.kt)("li",{parentName:"ul"},"Connect to ",(0,o.kt)("a",{parentName:"li",href:"https://support.viabtc.com/hc/zh-cn/articles/900005939326"},"ViaBTC mining pool")),(0,o.kt)("li",{parentName:"ul"},"Connect ",(0,o.kt)("a",{parentName:"li",href:"https://www.dxpool.com/help/zh/starcoin-mining-toturial"},"Elephant Pool")),(0,o.kt)("li",{parentName:"ul"},"Connect to ",(0,o.kt)("a",{parentName:"li",href:"https://blog.f2pool.com/zh/mining-tutorial/stc"},"fishpond"))),(0,o.kt)("h2",{id:"self-built-mining-pool"},"Self-built mining pool"),(0,o.kt)("p",null,"A stratum server is implemented inside the Starcoin node, through which users can build their own mining pool for mining.\nWhen starting the Starcoin node, the stratum server will monitor the local address 0.0.0.0:9880 by default, and mine by connecting to a mining client that supports starcoin stratum.\nWhen starting a Starcoin node, you can set the address and port of the stratum server through the parameters ",(0,o.kt)("inlineCode",{parentName:"p"},"--stratum-address")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"--stratum-port"),". like:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"./starcoin -n main --stratum-port 9880 --stratum-address 127.0.0.1\n")))}u.isMDXComponent=!0}}]);